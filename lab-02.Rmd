---
title: "Lab 02 - Plastic waste"
author: "Samarah Ledoux"
date: "2025-09-15"
output: github_document
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

On remarque que l'Océanie et l'Amérique du Sud ont les plus bas taux de déchets alors que les autres en ont plus avec une distribution différente mais un taux assez semblable. D'ailleurs, on remarque aussi que le plus haut taux de déchets se situe vers 0,25 par habitant pour tous les continents sauf l'Afrique.

```{r plastic-waste-continent}
ggplot(plastic_waste, aes(x=plastic_waste_per_cap))+
         geom_histogram(binwidth = 0.2)+
         facet_wrap(~continent)
```

### Exercise 2


```{r plastic-waste-density}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap)) + 
  geom_density()
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, 
                  color = continent)) +
  geom_density(alpha = 0.5) +
  labs(
    x = "plastic_waste_per_cap",
    y = "Density",
    color = "continent")
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, 
                  fill = continent)) +
  geom_density() +
  labs(
    x = "plastic_waste_per_cap",
    y = "Density",
    fill = "continent"
  )
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, 
                  fill = continent)) +
  geom_density(alpha = 0.5) +
  labs(
    x = "plastic_waste_per_cap",
    y = "Density",
    fill = "continent")
```

Les réglages de color et fill sont dans aes, car ce sont des réglages reliés à une variable (ici continent), alors que la transparence (alpha) se trouve dans geom_density() puisqu'il n'est pas relié à une variable. 

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}
ggplot(plastic_waste, aes(x = continent,
                  y = plastic_waste_per_cap)) +
  geom_boxplot()
```

Violin plot:

```{r plastic-waste-violin}
ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap)) +
  geom_violin()
```

Le boxplot nous montre seulement la valeur centrale (ligne dans le carré), alors que les violin plots nous permet de voir la dispersion en dessous et au dessous de la moyenne en montrant comment évolue la quantité de déchets par personnes. 

### Exercise 4


```{r plastic-waste-mismanaged}
ggplot(plastic_waste, aes(x=plastic_waste_per_cap,
                          y=mismanaged_plastic_waste_per_cap,
                          color=continent)) +
  geom_point()
ggplot(plastic_waste, aes(x=plastic_waste_per_cap,
                          y=mismanaged_plastic_waste_per_cap,
                          color=continent)) +
  geom_point()+
  facet_wrap(~ continent)
```

On peut voir une relation semi linéaire avec certains points qui démontre que le nombre de déchets non gérés augmentent avec le nombre de déchets plastiques par habitant. Avec les points des continents, on peut voir que l'Afrique (en rouge) suit davantage cette relation dépendante, alors que la relation des points de l'Europe (en vert) est plutôt linéaire horizontalement avec un nombre de déchets plastiques non gérés assez stable même en augmentant la quantité de déchets plastique par habitant. 

### Exercise 5


```{r plastic-waste-population-total}
ggplot(plastic_waste, aes(x=total_pop,
                          y=plastic_waste_per_cap))+
  geom_point()
```

```{r plastic-waste-population-coastal}
ggplot(plastic_waste, aes(x=coastal_pop,
                          y=plastic_waste_per_cap))+
  geom_point()
```

Non, les deux graphiques semblent très semblables, les données avec la population étant aux côtes semblent un peu plus dispersées en augmentant la population (vers la droite), mais la relation a l'air presque identique.  

## Conclusion

Je remarque que les points représentent bien la relation, car ils se regroupent autour de la courbe de tendance, mais pas d'une manière linéaire. Les habitants de l'asie et de l'océanie semblent avoir la plus grande quantité de déchets, la plupart des habitants des continents se situent entre 0 et 0,3 kg de déchets par jour et l'Afrique a l'air d'être le continent le moins pire avec les plus bas taux de déchets en dessous de la courbe de tendance.

```{r recreate-viz}
ggplot(data=plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3), aes(x = coastal_pop_prop,
                     y = plastic_waste_per_cap,
                     colour = continent)) +
  geom_point() +
  geom_smooth(method = "loess", 
               se=TRUE, 
               colour="black", 
               fill="grey") +
  labs(title = "Quantité de déchets plastiques vs proportion de la population côtière",
       subtitle = "Selon le continent",
       x = "Proportion de la population côtière (Coastal/total population)", y = "Nombre de déchets plastiques par habitant",
       colour = "Continent")
```